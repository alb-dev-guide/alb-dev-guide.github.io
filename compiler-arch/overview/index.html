<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://alb-dev-guide.github.io/compiler-arch/overview/">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Compiler overview - Guide to Alb Development</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Compiler overview";
    var mkdocs_page_input_path = "compiler-arch/overview.md";
    var mkdocs_page_url = "/compiler-arch/overview/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Guide to Alb Development</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">About this Guide</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Compiler Architecture</span></p>
                <ul>
                    <li class="toctree-l1"><a class="" href="../../compiler-overview.md">Overview of the Compiler</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Source Code Representation</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../todo/">IMPEG</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../todo/">XMPEG</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">LC Generation and mil-tools Backend</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../todo/">Todo</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Guide to Alb Development</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>Compiler overview</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="compiler-overview">Compiler overview</h1>
<h2 id="a-brief-tour-of-how-alb-compiles-programs">A brief tour of how alb compiles programs:</h2>
<p><a href="https://github.com/habit-lang/alb/blob/master/src/Driver.hs">Driver.hs</a> is the entrypoint of alb. </p>
<p>Compiler pipelines are defined in the <a href="https://github.com/habit-lang/alb/blob/5144e3a4c47ee62e4719644325d59e4adf193da1/src/Driver.hs#L293">buildPipeline function</a>, which constitutes of the following phases, which in reality is made up of smaller passes:</p>
<ul>
<li><a href="#desugaring">Desugaring</a></li>
<li>Kind Inference</li>
<li>Type Inference</li>
<li>Specialization</li>
<li>Normalization</li>
<li>LC Generation</li>
</ul>
<p>And two additional "backend" phases where the work is passed on to mil-tools:</p>
<ul>
<li>Normalization</li>
<li>Specialization</li>
</ul>
<p>In this chapter we will look into how each of these passes transform the code from a bird's eye view, and in more detail in the rest of the guide.</p>
<h4 id="desugaring">Desugaring:</h4>
<p>After parsing is done, we will enter the compiler pipeline. First, the compiler will attempt to "desugar" the program; decomposing higher-lever features into core language constructs. As they will no longer have to deal with syntactic sugar, this step helps simplify the code for subsequent phases (and passes). In alb, we have the following passes:
- <a href="https://github.com/habit-lang/alb/blob/master/src/Analyzer/Fixity.hs">fixityProgram</a>: Resolving infix operators, i.e. rewriting 1 + 2 into applicative form (+) 1 2.
- <a href="https://github.com/habit-lang/alb/blob/master/src/Analyzer/Freshening.hs">freshenProgram</a>: "Freshen" by assigning unique name to each variable bindings, i.e. when there are variables that shadows another, give it a new unique name so as it does not conflict.
- <a href="">eliminateTuplesProgram</a>: TODO
- TODO</p>
<p>By the end of the desugaring phase, the program will have been translated into a simpler subset of Habit, dubbed <code>IMPEG</code>.</p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
